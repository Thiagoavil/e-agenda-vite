var c=Object.defineProperty;var n=(r,e,i)=>e in r?c(r,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[e]=i;var a=(r,e,i)=>(n(r,typeof e!="symbol"?e+"":e,i),i);import"./style.c0ed6924.js";import{E as l}from"./Entidade.model.2a9bc6f5.js";import{T as h}from"./tarefa.repositoriy.Local-storage.e5814960.js";var o=(r=>(r.Baixa="Baixa",r.Media="M\xE9dia",r.Alta="Alta",r))(o||{});class d extends l{constructor(i,t,s){super();a(this,"descricao");a(this,"dataCriacao");a(this,"prioridade");a(this,"dataConclusao");s&&(this.id=s),this.descricao=i,this.dataCriacao=new Date,this.prioridade=t}}class u{constructor(e,i){a(this,"txtDescricao");a(this,"rdbPrioridade");a(this,"btnSalvar");a(this,"idSelecionado");if(this.repositorio=e,this.configurarElementos(),i){this.idSelecionado=i;const t=this.repositorio.selecionarPorId(this.idSelecionado);t&&this.preencherFormulario(t)}}preencherFormulario(e){switch(this.txtDescricao.value=e.descricao,e.prioridade){case o.Baixa:this.rdbPrioridade=document.querySelector("input[value='Baixa']");break;case o.Media:this.rdbPrioridade=document.querySelector("input[value='M\xE9dia']");break;case o.Alta:this.rdbPrioridade=document.querySelector("input[value='Alta']");break}this.rdbPrioridade.checked=!0}gravarRegistros(){const e=this.ObterDadosFormulario();this.idSelecionado?this.repositorio.editar(e.id,e):this.repositorio.inserir(e),window.location.href="tarefa.list.html"}ObterDadosFormulario(){const e=this.txtDescricao.value,i=this.ObterPrioridadeSelecionada();let t=null;return this.idSelecionado?t=new d(e,i,this.idSelecionado):t=new d(e,i),t}ObterPrioridadeSelecionada(){return this.rdbPrioridade=document.querySelector('input[type="radio"]:checked'),this.rdbPrioridade.value}configurarElementos(){this.txtDescricao=document.getElementById("txtDescricao"),this.btnSalvar=document.getElementById("btnSalvar"),this.btnSalvar.addEventListener("click",e=>this.gravarRegistros())}}const m=new URLSearchParams(window.location.search),p=m.get("id");new u(new h,p);
