var c=Object.defineProperty;var n=(a,e,r)=>e in a?c(a,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[e]=r;var i=(a,e,r)=>(n(a,typeof e!="symbol"?e+"":e,r),r);import"./modulepreload-polyfill.c7c6310f.js";import{T as l}from"./tarefa.repositoriy.Local-storage.e5814960.js";var o=(a=>(a.Baixa="Baixa",a.Media="M\xE9dia",a.Alta="Alta",a))(o||{});class h{gerarNovoId(){const e=Date.now().toString(36),r=Math.random().toString(36).substring(2,8);return`${e}-${r}`}}class u{constructor(){i(this,"id");this.id=new h().gerarNovoId()}}class d extends u{constructor(r,t,s){super();i(this,"descricao");i(this,"dataCriacao");i(this,"prioridade");i(this,"dataConclusao");s&&(this.id=s),this.descricao=r,this.dataCriacao=new Date,this.prioridade=t}}class m{constructor(e,r){i(this,"txtDescricao");i(this,"rdbPrioridade");i(this,"btnSalvar");i(this,"idSelecionado");if(this.repositorio=e,this.configurarElementos(),r){this.idSelecionado=r;const t=this.repositorio.selecionarPorId(this.idSelecionado);t&&this.preencherFormulario(t)}}preencherFormulario(e){switch(this.txtDescricao.value=e.descricao,e.prioridade){case o.Baixa:this.rdbPrioridade=document.querySelector("input[value='Baixa']");break;case o.Media:this.rdbPrioridade=document.querySelector("input[value='M\xE9dia']");break;case o.Alta:this.rdbPrioridade=document.querySelector("input[value='Alta']");break}this.rdbPrioridade.checked=!0}gravarRegistros(){const e=this.ObterDadosFormulario();this.idSelecionado?this.repositorio.editar(e.id,e):this.repositorio.inserir(e),window.location.href="tarefa.list.html"}ObterDadosFormulario(){const e=this.txtDescricao.value,r=this.ObterPrioridadeSelecionada();let t=null;return this.idSelecionado?t=new d(e,r,this.idSelecionado):t=new d(e,r),t}ObterPrioridadeSelecionada(){return this.rdbPrioridade=document.querySelector('input[type="radio"]:checked'),this.rdbPrioridade.value}configurarElementos(){this.txtDescricao=document.getElementById("txtDescricao"),this.btnSalvar=document.getElementById("btnSalvar"),this.btnSalvar.addEventListener("click",e=>this.gravarRegistros())}}const S=new URLSearchParams(window.location.search),p=S.get("id");new m(new l,p);
